<%= form_tag("/project_walk_through/create_step1", method: :post, multipart: true) do %>

<div class="print-area">
    <table >
        <tr>
            <td>
                <table style="table-layout: fixed;">
                    <tr>
                        <td>
                            <div class="d-flex gap-2 mt-3">
                                <p class="no-wrap">Order #:</p>
                                
                                <input type="text" value=<%=params[:order_id] || @project_walk_through[:order_no]%> name= 'order_no' class="input-line">
                                <input type="hidden" value=<%=@id %> name="project_walk_through_id" class="input-line">
                            </div>
                        </td>
                        <td>
                            <div class="d-flex gap-2 mt-3">
                                <p class="no-wrap">Budget:</p>
                                <input type="text" class="input-line" name= 'budget' value=<%=@project_walk_through[:budget] if @project_walk_through.present?%> >
                            </div>
                        </td>
                        <td>
                            <div class="d-flex gap-2 mt-3">
                                <p class="no-wrap">Design Style:</p>
                                <input type="text" class="input-line" name= 'design_style'  value=<%=@project_walk_through[:design_style] if @project_walk_through.present?%> >
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="table-layout: fixed;width:100%;">
                    <tr>
                        <td>
                            <div class="d-flex gap-2 mt-4">
                                <p class="no-wrap">Designer Staging:</p>
                                <input type="text" class="input-line" name= 'design_staging' value=<%=@project_walk_through[:design_staging] if @project_walk_through.present?%> >
                            </div>
                        </td>
                        <td>
                            <div class="d-flex gap-2 mt-4 ml-3">
                                <p class="no-wrap">Stagers Needed:</p>
                                <p class="d-flex gap-1">2 <input name="two" <%= @project_walk_through[:two] == "on" ? 'checked' : 'two' if @project_walk_through.present?%>  type="checkbox"></p>
                                <p class="d-flex gap-1">3 <input name="three" <%= @project_walk_through[:three] == "on" ? 'checked' : 'three' if @project_walk_through.present?%> type="checkbox"></p>
                                <p class="d-flex gap-1">4 <input name="four" <%= @project_walk_through[:four] == "on" ? 'checked' : 'four' if @project_walk_through.present?%> type="checkbox"></p>
                                <p class="d-flex gap-1">5 <input name="five" <%= @project_walk_through[:five] == "on" ? 'checked' : 'five' if @project_walk_through.present?%> type="checkbox"></p>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="width:100%">
                    <tr>
                        <td>
                            <div class="d-flex w-75 mt-4 gap-3">
                                <p class="no-wrap">Designer pulling:</p>
                                <p class="d-flex gap-1">Start <input name="start" <%= @project_walk_through[:start] == "on" ? 'checked' : '' if @project_walk_through.present?%> type="checkbox"></p>
                                <p class="d-flex gap-1">End <input name="end" <%= @project_walk_through[:end] == "on" ? 'checked' : '' if @project_walk_through.present?%> type="checkbox"></p>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table>
                    <tr>
                        <td>
                            <div class="d-flex mt-4">
                                <div class="d-flex gap-2">
                                    <p>Job Name:</p>
                                    <input class="input-line" type="text" name="job_name" value=<%=@project_walk_through[:job_name] if @project_walk_through.present?%>  >
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="table-layout:fixed;width:100%;">
                    <tr>
                        <td>
                            <div class="d-flex gap-2 mt-4">
                                <p class="no-wrap">Stage date:</p>
                                <input type="date" name="stage_date" value=<%=@project_walk_through[:stage_date] if @project_walk_through.present?%> class="input-line"></input>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex gap-2 mt-4 ml-3">
                                <p class="no-wrap">Out of area:</p>
                                <input name="out_of_area" <%= @project_walk_through[:out_of_area] == "on" ? 'checked' : '' if @project_walk_through.present?%> type="checkbox" />
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="table-layout:fixed;width:100%;">
                    <tr>
                        <td>
                            <div class="d-flex gap-2 mt-4">
                                <p>Occupied :</p>
                                <input name="occupied" <%= @project_walk_through[:occupied] == "on" ? 'checked' : '' if @project_walk_through.present?%> type="checkbox" />
                            </div>
                        </td>
                        <td>
                            <div class="d-flex gap-2 mt-4 ml-3">
                                <p>Access:</p>
                                <input name="access" <%= @project_walk_through[:access] == "on" ? 'checked' : '' if @project_walk_through.present?%> type="checkbox" />
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td>
                <table style="table-layout: fixed;width:100%;">
                    <tr>
                        <td>
                            <div class="w-100 mt-4">
                                <h2>Needs</h2>
                                <div class="note-section">
                                    <textarea name="needs"  id="" cols="42" rows="40" class="w-100"><%=@project_walk_through[:needs] if @project_walk_through.present?%></textarea>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex flex-col align-items-start mt-4 w-100" style="margin-left: 19px;">
                                <div class="avatar-upload">
                                    <p>* required</p><br>
                                    <div class="avatar-edit">
                                        <input type='file' id="imageUpload" name="img" accept=".png, .jpg, .jpeg" required="true" />
                                        <label for="imageUpload">*</label>
                                    </div>
                                    <div class="avatar-preview">
                                        
                                    <%if @project_walk_through.present? && @project_walk_through[:img].present?%>
                                        <div id="imagePreview" style="background-image: url(<%= @project_walk_through[:img] %>);">
                                        </div>
                                     <%else%>
                                        
                                        <div id="imagePreview" style="background-image: url(http://i.pravatar.cc/500?img=7);">
                                        </div>
                                    <%end%>
                                    </div>
                                </div>
                            </div>
                            <div class="d-flex flex-col align-items-start mt-4 w-100" style="margin-left: 19px;">
                                <div class="d-flex justify-content-between input-line mt-4 gap-2">
                                    <p class="no-wrap">Furniture:</p>
                                    <input type="text" name="furniture" value=<%=@project_walk_through[:furniture] if @project_walk_through.present?%> >
                                </div>
                                <div class="d-flex justify-content-between input-line mt-4 gap-2">
                                    <p class="no-wrap">Budgeted pull:</p>
                                    <input type="text" name="budgeted_pull" value=<%=@project_walk_through[:budgeted_pull] if @project_walk_through.present?%> >
                                </div>
                                <div class="d-flex justify-content-between input-line mt-4 gap-2">
                                    <p class="no-wrap">Actual pull:</p>
                                    <input type="text" name="actual_pull" value=<%=@project_walk_through[:actual_pull] if @project_walk_through.present?%> >
                                </div>
                                <div class="d-flex justify-content-between input-line mt-4 gap-2">
                                    <p class="no-wrap">Budgeted Stage:</p>
                                    <input type="text" name="budgeted_stage" value=<%=@project_walk_through[:budgeted_stage] if @project_walk_through.present?%> >
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <td>
				<table style="table-layout:fixed;width:100%;margin-top:24px;">
					<tr>
						<td>		
							<div class="back_button">			
								<a href="/account/orders" >
									<%=image_tag("new_icons/back_arrow_grey.svg", alt:"back_arrow_grey") %>
									Back
								</a>
							</div>
						</td>
						<td>
							<div class="d-flex justify-content-end">
									<div class="proceed_button">
										<button>
										<%= submit_tag("step 2", style:"background: transparent;color:#ffffff;") %>
										<%=image_tag("new_icons/proceed_arrow_white.svg", alt:"proceed_arrow_white") %>
										</button>
									</div>
							</div>
						</td>
					</tr>
				</table>
			</td>
    </table>
</div>

<% end %>

<style>


.print-area {
	position: relative;
	top: 1cm;
	left: 1cm;
	width: 24cm;
	font-size: 10pt;
    background-color: #b49f83;
    padding: 12px;
    margin:15px auto;
}

*{
    margin: 0px;
    padding: 0px;
    box-sizing: border-box;
}
p{
    font-size: 20px;
    color:#000000;
    margin:0px;
}

.w-100{
    width: 100% !important;
}
.w-75{
    width: 75%;
}
.w-50{
    width: 50%;
}

.gap-1{
    gap: 4px;
}
.gap-2{
    gap: 8px;
}
.gap-3{
    gap: 16px;
}
.gap-4{
    gap: 24px;
}
.gap-5{
    gap: 48px;
}

.ml-3{
    margin-left: 16px;
}

.mt-1{
    margin-top: 4px;
}
.mt-2{
    margin-top: 8px;
}
.mt-3{
    margin-top: 16px;
}
.mt-4{
    margin-top: 24px;
}

.mx-auto{
    margin: auto 0 ;
}


.d-flex{
    display: flex;
}
.flex-col{
    flex-direction: column;
}

.align-items-center{
    align-items: center;
}

.justify-content-start{
    justify-content: flex-start;
}
.justify-content-end{
    justify-content: flex-end;
}
.justify-content-center{
    justify-content: center;
}
.justify-content-between{
    justify-content: space-between;
}

.no-wrap{
    white-space: nowrap;
}


.input-line{
    border-bottom: 2px solid black;
}
.note-section{
    border: 2px solid black;
    height: 100%;
}

input{
    border: none;
    outline: none;
}

/* Image uploader css */

  .wrapper {
    margin-bottom: 48px;
    padding: 10px;
    background: #16a085;
    box-shadow: 0 3px 5px rgba(0,0,0,0.3);
  }
  .wrapper:active #img-result {
    margin-top: 2px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }
  .wrapper #img-result {
    cursor: pointer;
    margin: 0;
    position: relative;
    background: #1abc9c;
    background-size: cover;
    background-position: center;
    display: block;
    height: 150px;
    box-shadow: 0 3px 5px rgba(0,0,0,0.3);
    color: rgba(0,0,0,0);
    transition: box-shadow .3s, margin .3s, background-image 1.5s;
  }
  .wrapper #img-result.no-image:before {
    font-family: 'FontAwesome';
    content: "\f030";
    position: absolute;
    left: 50%;
    top: 50%;
    color: #fff;
    font-size: 48px;
    opacity: .8;
    transform: translate(-50%,-50%);
    text-shadow: 0 0px 5px rgba(0,0,0,0.4);
  }
  .wrapper button {
    margin-top: 20px;
    display: block;
    font-family: 'Open Sans Condensed', sans-serif;
    background: #1abc9c;
    width: 100%;
    border: none;
    color: #fff;
    padding: 10px;
    letter-spacing: 1.3px;
    font-size: 1.05em;
    border-radius: 5px;
    box-shadow: 0 4px 5px rgba(0,0,0,0.3);
    outline: 0;
    transition: box-shadow .3s, margin-top .3s, padding .3s;
  }
  .wrapper button:active {
    box-shadow: none;
    margin-top: 24px;
    padding: 8px;
  }
  .show-button {
    background: #264974;
    border: none;
    color: #fff;
    padding: 10px 20px;
    float: right;
    display: none;
  }
  .upload-result {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #fff;
    overflow-y: auto;
  }
  .upload-result__content {
    word-break: break-all;
    font-family: 'Source Code Pro';
    overflow-wrap: break-word;
  }

/* Image uploader css */

.avatar-upload {
    position: relative;
    max-width: 350px;
}
.avatar-upload .avatar-edit {
    position: absolute;
    right: -28px;
    z-index: 1;
    top: 10px;
}
.avatar-upload .avatar-edit input {
    display: none;
}
.avatar-upload .avatar-edit input + label {
    display: inline-block;
    width: 34px;
    height: 34px;
    margin-bottom: 0;
    border-radius: 100%;
    background: #FFFFFF;
    border: 1px solid transparent;
    box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.12);
    cursor: pointer;
    font-weight: normal;
    transition: all .2s ease-in-out;
}
.avatar-upload .avatar-edit input + label:hover {
    background: #f1f1f1;
    border-color: #d6d6d6;
}
.avatar-upload .avatar-edit input + label:after {
    content: "\f040";
    font-family: 'FontAwesome';
    color: #757575;
    position: absolute;
    top: 10px;
    left: 0;
    right: 0;
    text-align: center;
    margin: auto;
}
.avatar-upload .avatar-preview {
    width: 400px;
    height: 225px;
    position: relative;
    border: 6px solid #F8F8F8;
    box-shadow: 0px 2px 4px 0px rgba(0,0,0,0.1);
}
.avatar-upload .avatar-preview > div {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
}

</style>

<script>
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $('#imagePreview').css('background-image', 'url('+e.target.result +')');
                $('#imagePreview').hide();
                $('#imagePreview').fadeIn(650);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $("#imageUpload").change(function() {
        readURL(this);
    });
</script>